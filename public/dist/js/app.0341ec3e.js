(function(e){function t(t){for(var n,o,i=t[0],s=t[1],u=t[2],h=0,l=[];h<i.length;h++)o=i[h],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&l.push(a[o][0]),a[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);p&&p(t);while(l.length)l.shift()();return c.push.apply(c,u||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],n=!0,i=1;i<r.length;i++){var s=r[i];0!==a[s]&&(n=!1)}n&&(c.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={app:0},c=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var p=s;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"32e1":function(e,t,r){"use strict";r("73e9")},"56d7":function(e,t,r){"use strict";r.r(t);var n=r("7a23");function a(e,t){const r=Object(n["u"])("router-view");return Object(n["p"])(),Object(n["d"])(r)}r("dc17");var c=r("6b0d"),o=r.n(c);const i={},s=o()(i,[["render",a]]);var u=s,p=r("6c02");const h={id:"app"};function l(e,t,r,a,c,o){const i=Object(n["u"])("Header"),s=Object(n["u"])("Searchbar"),u=Object(n["u"])("Footer");return Object(n["p"])(),Object(n["e"])("div",h,[Object(n["g"])(i),Object(n["g"])(s),Object(n["g"])(u)])}var d=r("bc3a"),b=r.n(d);const f=Object(n["f"])("h1",{class:"appTitle"},"Weather App",-1),m=[f];function y(e,t,r,a,c,o){return Object(n["p"])(),Object(n["e"])("header",null,m)}var j={name:"Header"};r("95ea");const O=o()(j,[["render",y]]);var w=O;const v={class:"formWrapper"},C={class:"formInputWrapper"},g=Object(n["f"])("span",{class:"material-icons"},"my_location",-1),T=[g],x={class:"searchResultsWrapperMain"},S={class:"searchResultsWrapper"},M={ref:"cityResults",id:"citySearchResults"},k=["onClick"],I={key:0},W={key:1},$={ref:"countryResults",id:"countrySearchResults"},A=["onClick"],P={id:"errorMessage",style:{"text-align":"center"}},L={class:"dataWrapperMain"},_={id:"dataWrapper"},H={id:"cityName"},R=["src"],U=Object(n["f"])("text",null,"Current Temp",-1),F={id:"currentTemp"},N={class:"switch"},D=Object(n["f"])("span",{class:"slider round"},null,-1);function J(e,t,r,a,c,o){return Object(n["p"])(),Object(n["e"])(n["a"],null,[Object(n["f"])("div",v,[Object(n["f"])("div",C,[Object(n["f"])("button",{onClick:t[0]||(t[0]=(...e)=>o.getCurrentLocation&&o.getCurrentLocation(...e)),id:"currLocationBtn"},T),Object(n["f"])("input",{onKeyup:t[1]||(t[1]=e=>o.searchCity(e,this.$refs.searchCityInput,this.$refs.searchCountryInput)),ref:"searchCityInput",type:"text",name:"searchCityTextInput",id:"searchCityTextInput",placeholder:"Search City",autocomplete:"off",required:""},null,544),Object(n["f"])("input",{onKeyup:t[2]||(t[2]=e=>o.searchCountry(e,this.$refs.searchCountryInput)),ref:"searchCountryInput",type:"text",name:"searchCountryTextInput",id:"searchCountryTextInput",placeholder:"US",maxlength:"2",size:"1",value:"US",autocomplete:"off",required:""},null,544)]),Object(n["f"])("div",x,[Object(n["f"])("div",S,[Object(n["A"])(Object(n["f"])("ul",M,[(Object(n["p"])(!0),Object(n["e"])(n["a"],null,Object(n["t"])(c.cities,e=>(Object(n["p"])(),Object(n["e"])("li",{onClick:t=>{o.fetchApi(t,e),this.showCity=!1}},["US"==e["country"]?(Object(n["p"])(),Object(n["e"])("span",I,Object(n["w"])(e["name"]+", "+e["state"]),1)):(Object(n["p"])(),Object(n["e"])("span",W,Object(n["w"])(e["name"]+", "+e["country"]),1))],8,k))),256))],512),[[n["y"],c.showCity]]),Object(n["A"])(Object(n["f"])("ul",$,[(Object(n["p"])(!0),Object(n["e"])(n["a"],null,Object(n["t"])(c.countries,e=>(Object(n["p"])(),Object(n["e"])("li",{onClick:t=>{o.setCountry(e["country"]),this.showCountry=!1}},Object(n["w"])(e["country"]),9,A))),256))],512),[[n["y"],c.showCountry]])])])]),Object(n["f"])("p",P,Object(n["w"])(c.errorMessage),1),Object(n["A"])(Object(n["f"])("div",L,[Object(n["f"])("div",_,[Object(n["f"])("p",H,Object(n["w"])(c.cityName)+" "+Object(n["w"])(c.state)+" "+Object(n["w"])(c.country),1),Object(n["f"])("img",{src:c.weatherImageUrl,id:"weatherImg"},null,8,R),U,Object(n["f"])("p",F,Object(n["w"])(c.currentTemp)+" "+Object(n["w"])(c.tempSymbol),1),Object(n["f"])("p",null,"High "+Object(n["w"])(c.maxTemp)+" "+Object(n["w"])(c.tempSymbol)+" / Low "+Object(n["w"])(c.minTemp)+" "+Object(n["w"])(c.tempSymbol),1),Object(n["f"])("label",N,[Object(n["f"])("input",{onClick:t[3]||(t[3]=e=>o.convertTemp(this.currentTemp,this.minTemp,this.maxTemp)),type:"checkbox"}),D])])],512),[[n["y"],c.showWeather]])],64)}let q=/^[a-z]+$/i;var z={name:"Searchbar",data(){return{countries:{},cities:{},showCity:!0,showCountry:!0,showWeather:!1,fahrenheit:!0,cityName:"",currentTemp:0,maxTemp:0,minTemp:0,tempSymbol:"",weatherImageUrl:"",errorMessage:"",country:"",state:""}},methods:{async searchCountry(e,t){if(this.showWeather=!1,this.showCity=!1,this.showCountry=!0,!q.test(e.key)&&8!=e.keyCode)return;let r=await b()({method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},url:"/searchcountry",data:t.value});return this.countries=r.data,this.countries},async searchCity(e,t,r){if(this.showWeather=!1,t.value.length<1)return void(this.showCity=!1);if(this.showCity=!0,!q.test(e.key)&&8!=e.keyCode&&32!=e.keyCode)return;let n=JSON.stringify({city:t.value,country:r.value}),a=await b()({method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},url:"/searchcity",data:n});return this.cities=a.data,this.cities},setCountry(e){searchCountryTextInput.value=e,this.showCity=!1,this.$refs.searchCityInput.value=""},async fetchApi(e,t){this.fahrenheit=!0,this.$refs.searchCityInput.value="";let r=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${t.lat}&lon=${t.lon}&units=imperial&exclude=minutely,hourly&appid=65388c50a787be295df1ae5b1f2c37ea`,{mode:"cors"}),n=await r.json();if(r.ok)return this.displayWeatherData(n,t);this.errorMessage=data.message},displayWeatherData(e,t){this.showWeather=!0,this.currentTemp=Math.round(e.current.temp),this.minTemp=Math.round(e.daily[0].temp.min),this.maxTemp=Math.round(e.daily[0].temp.max),this.tempSymbol="°F",this.cityName=t.name,this.state=t.state,this.country=t.country,this.weatherImageUrl=`https://openweathermap.org/img/wn/${e.current.weather[0].icon}@2x.png`},convertTemp(e,t,r){switch(this.fahrenheit){case!0:return this.fahrenheit=!1,this.tempSymbol="°C",this.currentTemp=Math.round(.556*(e-32)),this.minTemp=Math.round(.556*(t-32)),void(this.maxTemp=Math.round(.556*(r-32)));case!1:return this.fahrenheit=!0,this.tempSymbol="°F",this.currentTemp=Math.round(1.8*e+32),this.minTemp=Math.round(1.8*t+32),void(this.maxTemp=Math.round(1.8*r+32))}},getCurrentLocation(){navigator.geolocation.getCurrentPosition(e=>{this.fetchApiCurrentLocation(e)})},async fetchApiCurrentLocation(e){let t=await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${e.coords.latitude}&lon=${e.coords.longitude}&units=imperial&appid=65388c50a787be295df1ae5b1f2c37ea`,{mode:"cors"}),r=await t.json();if(!t.ok)return void(this.errorMessage=data.message);let n={name:r.name,country:r.sys.country,state:null,lat:r.coord.lat,lon:r.coord.lon},a=await fetch(`https://api.openweathermap.org/data/2.5/onecall?lat=${n.lat}&lon=${n.lon}&units=imperial&exclude=minutely,hourly&appid=65388c50a787be295df1ae5b1f2c37ea`,{mode:"cors"}),c=await a.json();if(a.ok)return this.displayWeatherData(c,n);this.errorMessage=data.message}}};r("c9b3");const B=o()(z,[["render",J]]);var K=B;const E=Object(n["f"])("div",{class:"footerWrapper"},[Object(n["f"])("div",{class:"footerBottom",style:{"text-align":"center"}},"Weather App")],-1),G=[E];function Q(e,t,r,a,c,o){return Object(n["p"])(),Object(n["e"])("footer",null,G)}var V={name:"Footer"};r("32e1");const X=o()(V,[["render",Q]]);var Y=X,Z={name:"Home",components:{Header:w,Searchbar:K,Footer:Y}};const ee=o()(Z,[["render",l]]);var te=ee;const re=[{path:"/",name:"Home",component:te}],ne=Object(p["a"])({history:Object(p["b"])("/"),routes:re});var ae=ne;Object(n["c"])(u).use(ae).mount("#app")},6475:function(e,t,r){},"73e9":function(e,t,r){},"825d":function(e,t,r){},"8b71":function(e,t,r){},"95ea":function(e,t,r){"use strict";r("8b71")},c9b3:function(e,t,r){"use strict";r("825d")},dc17:function(e,t,r){"use strict";r("6475")}});
//# sourceMappingURL=app.0341ec3e.js.map